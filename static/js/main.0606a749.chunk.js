(this.webpackJsonpdeployreact=this.webpackJsonpdeployreact||[]).push([[0],{109:function(t,e,n){},117:function(t,e,n){},118:function(t,e,n){},128:function(t,e,n){},129:function(t,e,n){"use strict";n.r(e);var s=n(0),r=n(1),c=n.n(r),i=n(23),o=n.n(i),a=(n(25),n(12)),u=n(11),l=n(14),h=n(6),p=n(7),j=n(24),_=n(9),b=n(8),d=(n(69),function(t){Object(_.a)(n,t);var e=Object(b.a)(n);function n(){var t;return Object(h.a)(this,n),(t=e.call(this)).handle_login=function(e){e.preventDefault();var n={username:t.state.username,password:t.state.password};fetch("http://localhost:8000/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){if(!t.ok)throw Error(t.statusText);return t})).then((function(t){return t.json()})).then((function(e){localStorage.setItem("token",e.token),t.setState({currentUserName:e.user.username,loggedIn:!0})})).catch((function(t){return alert(t)}))},t.state={currentUserName:"",username:"",password:"",loggedIn:!!localStorage.getItem("token")},t.onChange=t.onChange.bind(Object(j.a)(t)),t}return Object(p.a)(n,[{key:"onChange",value:function(t){this.setState(Object(l.a)({},t.target.name,t.target.value))}},{key:"render",value:function(){return!0===this.state.loggedIn?Object(s.jsx)(u.a,{to:"/home"}):Object(s.jsx)("div",{className:"auth-wrapper",children:Object(s.jsx)("div",{className:"auth-inner",children:Object(s.jsxs)("form",{onSubmit:this.handle_login,children:[Object(s.jsx)("h3",{children:"Sign In"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email address"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"username",value:this.state.username,onChange:this.onChange,name:"username"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",placeholder:"password",value:this.state.password,onChange:this.onChange,name:"password"})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Submit"}),this.state.error]})})})}}]),n}(c.a.Component)),m=n(13),O=function(t){return{type:"CHANGE_SHEET",payload:t}},f=function(t){return{type:"CHANGE_TEST_PAPER",payload:t}},g=n(3),x=n.n(g),v=function(t){Object(_.a)(n,t);var e=Object(b.a)(n);function n(t){var s;return Object(h.a)(this,n),(s=e.call(this,t)).levelList=function(){x.a.get("http://127.0.0.1:8000/user/level/?user_name=".concat(s.props.newuser),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return s.setState({levelList:t.data})})).then((function(){return s.state.levelList.map((function(t){return s.props.changeuserlevel(t)}))})).catch((function(t){return console.log(t)}))},s.state={logged_in:!!localStorage.getItem("token"),levelList:[]},s}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this;if(this.state.logged_in){var e=function(t){if(!t.ok)throw Error(t.statusText);return t};fetch("http://localhost:8000/validate/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(n){fetch("http://localhost:8000/user/current",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(e).then((function(t){return t.json()})).then((function(n){n.username&&t.props.changeusername(n.username),fetch("http://localhost:8000/refresh/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:localStorage.getItem("token")})}).then(e).then((function(t){return t.json()})).then((function(t){localStorage.setItem("token",t.token)})).then((function(){return t.levelList()})).catch((function(t){console.log(t)}))})).catch((function(t){localStorage.removeItem("token")}))})).catch((function(t){localStorage.removeItem("token")}))}}},{key:"render",value:function(){return!1===this.state.loggedIn?Object(s.jsx)(u.a,{to:"/logout"}):Object(s.jsx)("div",{children:Object(s.jsx)("h1",{children:"home page"})})}}]),n}(c.a.Component),C=Object(m.b)((function(t){return{newuser:t.currentUser,userlevel:t.currentUserLevel}}),(function(t){return{changeusername:function(e){t(function(t){return{type:"CHANGE_USERNAME",payload:t}}(e))},changeuserlevel:function(e){t(function(t){return{type:"CHANGE_USER_LEVEL",payload:t}}(e))}}}))(v),k=(n(48),function(t){Object(_.a)(n,t);var e=Object(b.a)(n);function n(t){var r;Object(h.a)(this,n),(r=e.call(this,t)).topicList=function(){x.a.get("http://127.0.0.1:8000/sheet/topic/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({topicList:t.data})})).catch((function(t){return console.log(t)}))},r.sheetList=function(){x.a.get("http://127.0.0.1:8000/sheet/sheetname/?level=".concat(r.props.userlevel.level,"&subject=").concat(r.state.subject,"&topic=").concat(r.state.topic,"&sheet_type=").concat(r.state.sheet_type),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({sheetList:t.data,filterOn:!1})})).catch((function(t){return console.log(t)}))},r.completedSheetList=function(){x.a.get("http://localhost:8000/sheet/index/?user_name=".concat(r.props.newuser),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({completedSheetList:t.data})})).catch((function(t){return console.log(t)}))},r.handleChange=function(t){var e;r.setState((e={},Object(l.a)(e,t.target.name,t.target.value),Object(l.a)(e,"filterOn",!0),e))},r.renderTopics=function(){var t=r.state.subject,e=r.props.userlevel.level;return r.state.topicList.filter((function(n){return n.level===e&n.subject===t})).map((function(t){return Object(s.jsx)("option",{children:t.topic})}))},r.renderSheets=function(){var t=r.state.viewPublished,e=r.state.completedSheetList.map((function(t){return t.sheet_name}));return r.state.sheetList.filter((function(e){return e.published===t})).map((function(t){return Object(s.jsxs)("tr",{className:e.includes(t.sheet_name)?"repeat":"start",children:[Object(s.jsx)("th",{scope:"row",children:t.level}),Object(s.jsx)("td",{children:t.subject}),Object(s.jsx)("td",{children:t.topic}),Object(s.jsx)("td",{children:t.sheet_type}),Object(s.jsx)("td",{children:e.includes(t.sheet_name)?Object(s.jsx)("button",{type:"button",class:"btn btn-outline-success",onClick:function(){return r.gotoSheet(t)},children:"Repeat"}):Object(s.jsx)("button",{type:"button",class:"btn btn-outline-success",onClick:function(){return r.gotoSheet(t)},children:"Start"})})]})}))},r.renderFilter=function(){return Object(s.jsx)("form",{className:"listingform",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"subject",children:"SUBJECT"}),Object(s.jsxs)("select",{className:"listingform__select",name:"subject",onChange:r.handleChange,value:r.state.subject,children:[Object(s.jsx)("option",{}),Object(s.jsx)("option",{children:"QA"}),Object(s.jsx)("option",{children:"LR"}),Object(s.jsx)("option",{children:"DI"}),Object(s.jsx)("option",{children:"VA"}),Object(s.jsx)("option",{children:"GA"})]})]}),Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"topic",children:"TOPIC"}),Object(s.jsxs)("select",{className:"listingform__select",name:"topic",onChange:r.handleChange,value:r.state.topic,children:[Object(s.jsx)("option",{}),r.renderTopics()]})]}),Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"sheet_type",children:"SHEET TYPE"}),Object(s.jsxs)("select",{className:"listingform__select",name:"sheet_type",onChange:r.handleChange,value:r.state.sheet_type,children:[Object(s.jsx)("option",{}),Object(s.jsx)("option",{children:"main"}),Object(s.jsx)("option",{children:"practice"})]})]})]})})},r.gotoSheet=function(t){r.props.changesheet(t),r.setState({startsheet:!0})};var c=!1;return localStorage.getItem("token")&&(c=!0),r.state={level:"",subject:"",topic:"",sheet_type:"",viewPublished:!0,topicList:[],sheetList:[],completedSheetList:[],startsheet:!1,loggedIn:c,filterOn:!0},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.topicList(),this.sheetList(),this.completedSheetList()}},{key:"render",value:function(){return!1===this.state.loggedIn?Object(s.jsx)(u.a,{to:"/logout"}):this.state.startsheet?Object(s.jsx)("div",{children:Object(s.jsx)(u.a,{to:"/topicsheet"})}):Object(s.jsxs)("div",{children:[this.state.filterOn?this.sheetList():null,this.renderFilter(),Object(s.jsxs)("table",{class:"table table-hover",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"level"}),Object(s.jsx)("th",{scope:"col",children:"subject"}),Object(s.jsx)("th",{scope:"col",children:"topic"}),Object(s.jsx)("th",{scope:"col",children:"sheet type"}),Object(s.jsx)("th",{scope:"col",children:"action"})]})}),Object(s.jsx)("tbody",{children:this.renderSheets()})]})]})}}]),n}(r.Component)),w=Object(m.b)((function(t){return{newuser:t.currentUser,userlevel:t.currentUserLevel}}),(function(t){return{changesheet:function(e){t(O(e))}}}))(k),L=n(130),S=n(27),T=n.n(S),y=n(30),A=function(t){Object(_.a)(n,t);var e=Object(b.a)(n);function n(t){var r;Object(h.a)(this,n),(r=e.call(this,t)).conceptToggle=function(){return r.setState({isConceptOpen:!r.state.isConceptOpen})},r.conceptVideoToggle=function(){return r.setState({isConceptVideoOpen:!r.state.isConceptVideoOpen})},r.hintToggle=function(){return r.setState({isHintOpen:!r.state.isHintOpen})},r.hintVideoToggle=function(){return r.setState({isHintVideoOpen:!r.state.isHintVideoOpen})},r.List=function(){x.a.get("http://127.0.0.1:8000/sheet/questions/?select_sheet_name=".concat(r.props.newsheet.id),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({questionList:t.data})})).then((function(){return r.startSheet()})).catch((function(t){return console.log(t)}))},r.getUserAnswers=function(){x.a.get("http://127.0.0.1:8000/sheet/useranswers/?user_name=".concat(r.props.newuser,"&sheet_name=").concat(r.props.newsheet.sheet_name),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({userAnswerList:t.data})})).catch((function(t){return console.log(t)}))},r.getUserFlags=function(){x.a.get("http://127.0.0.1:8000/sheet/flag/?user_name=".concat(r.props.newuser,"&sheet_name=").concat(r.props.newsheet.sheet_name),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({userFlagList:t.data})})).catch((function(t){return console.log(t)}))},r.submitAnswer=function(t){if(0===r.state.userAnswerList.filter((function(t){return t.question_no===r.state.currentQuestion.question_no})).length){var e={user_name:r.props.newuser,sheet_name:r.state.currentQuestion.sheet_name,question_no:r.state.currentQuestion.question_no,user_answer:t,correct_answer:r.state.currentQuestion.correct_answer};x.a.post("http://127.0.0.1:8000/sheet/useranswers/",e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getUserAnswers()}))}else alert("you cannot change your answer")},r.submitFlag=function(){var t=r.state.userFlagList.filter((function(t){return t.question_no===r.state.currentQuestion.question_no}));if(0===t.length){var e={user_name:r.props.newuser,sheet_name:r.state.currentQuestion.sheet_name,question_no:r.state.currentQuestion.question_no};x.a.post("http://127.0.0.1:8000/sheet/flag/",e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getUserFlags()}))}else{var n=t[0].id;x.a.delete("http://127.0.0.1:8000/sheet/flag/".concat(n,"/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getUserFlags()}))}},r.questionNumberList=function(){var t=r.state.userAnswerList.filter((function(t){return t.user_answer===t.correct_answer})),e=r.state.userAnswerList.filter((function(t){return t.user_answer!==t.correct_answer})),n=t.map((function(t){return t.question_no})),c=e.map((function(t){return t.question_no})),i=r.state.userFlagList.map((function(t){return t.question_no}));return r.state.questionList.map((function(t){return Object(s.jsx)("button",{className:i.includes(t.question_no)?n.includes(t.question_no)?"button-s correct_question-flag":c.includes(t.question_no)?"button-s incorrect_question-flag":"button-s normal_question-flag":n.includes(t.question_no)?"button-s correct_question":c.includes(t.question_no)?"button-s incorrect_question":"button-s normal_question",onClick:function(){return r.selectQuestion(t)},children:t.question_no})}))},r.startSheet=function(){return r.state.questionList.filter((function(t){return 1===t.question_no})).map((function(t){return r.setState({currentQuestion:t})}))},r.previous=function(t){var e=t-1;return r.state.questionList.filter((function(t){return t.question_no===e})).map((function(t){return Object(s.jsx)("button",{className:"button2",onClick:function(){return r.selectQuestion(t)},children:"previous"})}))},r.next=function(t){var e=t+1;return r.state.questionList.filter((function(t){return t.question_no===e})).map((function(t){return Object(s.jsx)("button",{className:"button2",onClick:function(){return r.selectQuestion(t)},children:"next"})}))},r.selectQuestion=function(t){r.setState({isConceptOpen:!1,isConceptVideoOpen:!1,isHintOpen:!1,isHintVideoOpen:!1,currentQuestion:t})},r.submitSheet=function(){var t={user_name:r.props.newuser,sheet_name:r.state.currentQuestion.sheet_name};x.a.post("http://127.0.0.1:8000/sheet/index/",t,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({submitSheet:!0})})).catch((function(t){return console.log(t)}))},r.closeSheet=function(){return r.setState({submitSheet:!0})},r.class_name=function(t){var e=r.state.userAnswerList.filter((function(t){return t.question_no===r.state.currentQuestion.question_no}));return 0===e.length?"list-group-item list-group-item-action normal_option":t===e[0].correct_answer?"list-group-item list-group-item-action correct_option":t===e[0].user_answer?"list-group-item list-group-item-action incorrect_option":"list-group-item list-group-item-action normal_option"};var c=!1;return localStorage.getItem("token")&&(c=!0),r.state={loggedIn:c,questionList:[],currentQuestion:"",isConceptOpen:!1,isConceptVideoOpen:!1,isHintOpen:!1,isHintVideoOpen:!1,submitSheet:!1,userAnswerList:[],userFlagList:[],answeredId:""},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.List(),this.getUserAnswers(),this.getUserFlags()}},{key:"render",value:function(){var t=this;return!1===this.state.loggedIn?Object(s.jsx)(u.a,{to:"/logout"}):this.state.submitSheet?Object(s.jsx)(u.a,{to:"/home"}):Object(s.jsxs)("div",{className:"topicsheet",children:[Object(s.jsx)("div",{children:this.props.newsheet.sheet_name}),Object(s.jsxs)("div",{className:"concept",children:[Object(s.jsx)("button",{className:"button2",onClick:function(){return t.conceptToggle()},children:"concept"}),Object(s.jsxs)(L.a,{isOpen:this.state.isConceptOpen,children:[Object(s.jsx)("div",{children:this.props.newsheet.concept}),Object(s.jsx)("img",{src:this.props.newsheet.concept_image,alt:""})]})]}),Object(s.jsxs)("div",{className:"concept_video",children:[Object(s.jsx)("button",{className:"button2",onClick:function(){return t.conceptVideoToggle()},children:"concept video"}),Object(s.jsx)(L.a,{isOpen:this.state.isConceptVideoOpen,children:Object(s.jsx)("div",{className:"wrapper",children:Object(s.jsx)(T.a,{controls:!0,url:'"'.concat(this.props.newsheet.concept_video,'"'),width:"100%",height:"100%",className:"player"})})})]}),Object(s.jsx)("div",{children:this.questionNumberList()}),Object(s.jsx)("button",{className:"button2",onClick:function(){return t.submitFlag()},children:"Flag"}),Object(s.jsxs)("div",{class:"input-group input-group-lg",children:[Object(s.jsx)("div",{class:"input-group-prepend",children:Object(s.jsxs)("span",{class:"input-group-text",id:"inputGroup-sizing-lg",children:["Question. ",this.state.currentQuestion.question_no]})}),Object(s.jsxs)("span",{type:"text",class:"form-control","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",children:[this.state.currentQuestion.question,Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:this.state.currentQuestion.question_image,alt:""})})]})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{class:"list-group",children:[Object(s.jsxs)("button",{type:"button",className:this.class_name("a"),onClick:function(){return t.submitAnswer("a")},children:["(A) ",this.state.currentQuestion.option_a]}),Object(s.jsxs)("button",{type:"button",className:this.class_name("b"),onClick:function(){return t.submitAnswer("b")},children:["(B) ",this.state.currentQuestion.option_b]}),Object(s.jsxs)("button",{type:"button",className:this.class_name("c"),onClick:function(){return t.submitAnswer("c")},children:["(C) ",this.state.currentQuestion.option_c]}),Object(s.jsxs)("button",{type:"button",className:this.class_name("d"),onClick:function(){return t.submitAnswer("d")},children:["(D) ",this.state.currentQuestion.option_d]}),Object(s.jsxs)("div",{className:"bottombuttons",children:[Object(s.jsx)("div",{children:this.previous(this.state.currentQuestion.question_no)}),Object(s.jsxs)("div",{className:"hint",children:[Object(s.jsx)("button",{className:"button2",onClick:function(){return t.hintToggle()},children:"hint"}),Object(s.jsxs)(L.a,{isOpen:this.state.isHintOpen,children:[Object(s.jsx)("div",{children:this.state.currentQuestion.hint}),Object(s.jsx)("img",{src:this.state.currentQuestion.hint_image,alt:""})]})]}),Object(s.jsx)("div",{className:"hint_video",children:Object(s.jsx)("button",{className:"button2",onClick:function(){return t.hintVideoToggle()},children:"hint video"})}),Object(s.jsx)("div",{children:this.next(this.state.currentQuestion.question_no)})]})]}),Object(s.jsx)("button",{className:"button2",onClick:function(){return t.submitSheet()},children:"Submit Sheet"}),Object(s.jsx)("button",{className:"button2",onClick:function(){return t.closeSheet()},children:"Close Sheet"}),Object(s.jsx)(L.a,{isOpen:this.state.isHintVideoOpen,children:Object(s.jsx)("div",{className:"wrapper",children:Object(s.jsx)(T.a,{controls:!0,url:'"'.concat(this.state.currentQuestion.hint_video,'"'),width:"100%",height:"100%",className:"player"})})})]}),this.props.newsheet.allow_calc?Object(s.jsx)("button",{onClick:function(){return t.setState({isCalcOpen:!t.state.isCalcOpen})},children:"Calculator"}):null,this.state.isCalcOpen?Object(s.jsx)(y.a,{}):null]})}}]),n}(c.a.Component),E=Object(m.b)((function(t){return{newsheet:t.sheet,newuser:t.currentUser}}))(A),N=function(t){Object(_.a)(n,t);var e=Object(b.a)(n);function n(t){var r;Object(h.a)(this,n),(r=e.call(this,t)).examList=function(){x.a.get("http://127.0.0.1:8000/testpaper/exam/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({examList:t.data})})).catch((function(t){return console.log(t)}))},r.testList=function(){x.a.get("http://127.0.0.1:8000/testpaper/testpaper/?level=".concat(r.props.userlevel.level,"&test_type=").concat(r.state.test_type,"&exam=").concat(r.state.exam),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({testList:t.data,filterOn:!1})})).catch((function(t){return console.log(t)}))},r.completedTestList=function(){x.a.get("http://localhost:8000/testpaper/userresult/?user_name=".concat(r.props.newuser),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({completedTestList:t.data})})).catch((function(t){return console.log(t)}))},r.renderExams=function(){return r.state.examList.map((function(t){return Object(s.jsx)("option",{children:t.topic})}))},r.handleChange=function(t){var e;return r.setState((e={},Object(l.a)(e,t.target.name,t.target.value),Object(l.a)(e,"filterOn",!0),e))},r.gotoTest=function(t){r.props.changeTest(t),r.setState({startTest:!0})},r.analyseTest=function(t){r.props.changeTest(t),r.setState({analyse:!0})},r.renderTestPapers=function(){var t=r.state.completedTestList.map((function(t){return t.test_name})),e=r.state.viewPublished;return r.state.testList.filter((function(t){return t.published===e})).map((function(e){return Object(s.jsxs)("tr",{className:t.includes(e.test_name)?"repeat":"start",children:[Object(s.jsx)("th",{scope:"row",children:e.test_name}),Object(s.jsx)("td",{children:e.level}),Object(s.jsx)("td",{children:e.exam}),Object(s.jsx)("td",{children:e.type}),Object(s.jsx)("td",{children:t.includes(e.test_name)?Object(s.jsx)("button",{type:"button",class:"btn btn-outline-success",onClick:function(){return r.analyseTest(e)},children:"Analyse"}):Object(s.jsx)("button",{type:"button",class:"btn btn-outline-success",onClick:function(){return r.gotoTest(e)},children:"Start"})})]})}))},r.renderFilter=function(){return Object(s.jsx)("form",{className:"listingform",onSubmit:r.testList(),children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"exam",children:"EXAM"}),Object(s.jsxs)("select",{className:"listingform__select",name:"exam",onChange:r.handleChange,value:r.state.exam,children:[Object(s.jsx)("option",{children:"none"}),r.renderExams()]})]}),Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"test_type",children:"TEST TYPE"}),Object(s.jsxs)("select",{className:"listingform__select",name:"test_type",onChange:r.handleChange,value:r.state.test_type,children:[Object(s.jsx)("option",{children:"none"}),Object(s.jsx)("option",{children:"weekly"}),Object(s.jsx)("option",{children:"mock"}),Object(s.jsx)("option",{children:"subject"}),Object(s.jsx)("option",{children:"topic"}),Object(s.jsx)("option",{children:"previous year paper"})]})]})]})})};var c=!1;return localStorage.getItem("token")&&(c=!0),r.state={exam:"",test_type:"",viewPublished:!0,examList:[],testList:[],completedTestList:[],startTest:!1,analyse:!1,loggedIn:c,filterOn:!0},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.examList(),this.testList(),this.completedTestList()}},{key:"render",value:function(){return!1===this.state.loggedIn?Object(s.jsx)(u.a,{to:"/logout"}):this.state.startTest?Object(s.jsx)("div",{children:Object(s.jsx)(u.a,{to:"/testpaper"})}):this.state.analyse?Object(s.jsx)("div",{children:Object(s.jsx)(u.a,{to:"/testanalysis"})}):Object(s.jsxs)("div",{children:[this.state.filterOn?this.sheetList():null,this.renderFilter(),Object(s.jsxs)("table",{class:"table table-hover",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"level"}),Object(s.jsx)("th",{scope:"col",children:"exam"}),Object(s.jsx)("th",{scope:"col",children:"type"}),Object(s.jsx)("th",{scope:"col",children:"action"})]})}),Object(s.jsx)("tbody",{children:this.renderTestPapers()})]})]})}}]),n}(r.Component),q=Object(m.b)((function(t){return{newuser:t.currentUser,userlevel:t.currentUserLevel}}),(function(t){return{changeTest:function(e){t(f(e))}}}))(N),I=function(t){Object(_.a)(n,t);var e=Object(b.a)(n);function n(t){var r;Object(h.a)(this,n),(r=e.call(this,t)).topicList=function(){x.a.get("http://127.0.0.1:8000/sheet/topic/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({topicList:t.data})})).catch((function(t){return console.log(t)}))},r.sheetList=function(){x.a.get("http://127.0.0.1:8000/sheet/sheetname/?level=".concat(r.state.level,"&subject=").concat(r.state.subject,"&topic=").concat(r.state.topic,"&sheet_type=").concat(r.state.sheet_type),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({sheetList:t.data,filterOn:!1})})).catch((function(t){return console.log(t)}))},r.completedSheetList=function(){x.a.get("http://localhost:8000/sheet/index/?user_name=".concat(r.props.newuser),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({completedSheetList:t.data})})).catch((function(t){return console.log(t)}))},r.handleChange=function(t){var e;return r.setState((e={},Object(l.a)(e,t.target.name,t.target.value),Object(l.a)(e,"filterOn",!0),e))},r.renderTopics=function(){var t=r.state.subject,e=r.props.userlevel.level;return r.state.topicList.filter((function(n){return n.level===e&n.subject===t})).map((function(t){return Object(s.jsx)("option",{children:t.topic})}))},r.renderSheets=function(){var t=r.state.viewPublished,e=r.state.completedSheetList.map((function(t){return t.sheet_name}));return r.state.sheetList.filter((function(e){return e.published===t})).map((function(t){return Object(s.jsx)("tbody",{children:e.includes(t.sheet_name)?Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:t.level}),Object(s.jsx)("td",{children:t.subject}),Object(s.jsx)("td",{children:t.topic}),Object(s.jsx)("td",{children:t.sheet_type}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{type:"button",class:"btn btn-outline-success",onClick:function(){return r.gotoSheet(t)},children:"Repeat"})})]}):null})}))},r.renderFilter=function(){return Object(s.jsx)("form",{className:"listingform",onSubmit:r.sheetList(),children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"subject",children:"LEVEL"}),Object(s.jsxs)("select",{className:"listingform__select",name:"level",onChange:r.handleChange,value:r.state.level,children:[Object(s.jsx)("option",{children:null}),Object(s.jsx)("option",{children:"BASIC"}),Object(s.jsx)("option",{children:"FOUNDATION"}),Object(s.jsx)("option",{children:"ADVANCED"})]})]}),Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"subject",children:"SUBJECT"}),Object(s.jsxs)("select",{className:"listingform__select",name:"subject",onChange:r.handleChange,value:r.state.subject,children:[Object(s.jsx)("option",{children:null}),Object(s.jsx)("option",{children:"QA"}),Object(s.jsx)("option",{children:"LR"}),Object(s.jsx)("option",{children:"DI"}),Object(s.jsx)("option",{children:"VA"}),Object(s.jsx)("option",{children:"GA"})]})]}),Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"topic",children:"TOPIC"}),Object(s.jsxs)("select",{className:"listingform__select",name:"topic",onChange:r.handleChange,value:r.state.topic,children:[Object(s.jsx)("option",{children:null}),r.renderTopics()]})]}),Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"sheet_type",children:"SHEET TYPE"}),Object(s.jsxs)("select",{className:"listingform__select",name:"sheet_type",onChange:r.handleChange,value:r.state.sheet_type,children:[Object(s.jsx)("option",{children:null}),Object(s.jsx)("option",{children:"main"}),Object(s.jsx)("option",{children:"practice"})]})]})]})})},r.gotoSheet=function(t){r.props.changesheet(t),r.setState({startsheet:!0})};var c=!1;return localStorage.getItem("token")&&(c=!0),r.state={level:"",subject:"",topic:"",sheet_type:"",viewPublished:!0,topicList:[],sheetList:[],completedSheetList:[],startsheet:!1,loggedIn:c,filterOn:!0},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.topicList(),this.sheetList(),this.completedSheetList()}},{key:"render",value:function(){return!1===this.state.loggedIn?Object(s.jsx)(u.a,{to:"/logout"}):this.state.startsheet?Object(s.jsx)("div",{children:Object(s.jsx)(u.a,{to:"/topicsheet"})}):Object(s.jsxs)("div",{children:[this.state.filterOn?this.sheetList():null,this.renderFilter(),Object(s.jsxs)("table",{class:"table table-hover",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"level"}),Object(s.jsx)("th",{scope:"col",children:"subject"}),Object(s.jsx)("th",{scope:"col",children:"topic"}),Object(s.jsx)("th",{scope:"col",children:"sheet type"}),Object(s.jsx)("th",{scope:"col",children:"action"})]})}),this.renderSheets()]})]})}}]),n}(r.Component),Q=Object(m.b)((function(t){return{newuser:t.currentUser,userlevel:t.currentUserLevel}}),(function(t){return{changesheet:function(e){t(O(e))}}}))(I),P=function(t){Object(_.a)(n,t);var e=Object(b.a)(n);function n(t){var r;Object(h.a)(this,n),(r=e.call(this,t)).examList=function(){x.a.get("http://127.0.0.1:8000/testpaper/exam/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({examList:t.data})})).catch((function(t){return console.log(t)}))},r.testList=function(){x.a.get("http://127.0.0.1:8000/testpaper/testpaper/?test_type=".concat(r.state.test_type,"&exam=").concat(r.state.exam),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({testList:t.data,filterOn:!1})})).catch((function(t){return console.log(t)}))},r.completedTestList=function(){x.a.get("http://localhost:8000/testpaper/userresult/?user_name=".concat(r.props.newuser),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({completedTestList:t.data})})).catch((function(t){return console.log(t)}))},r.renderExams=function(){return r.state.examList.map((function(t){return Object(s.jsx)("option",{children:t.topic})}))},r.handleChange=function(t){var e;return r.setState((e={},Object(l.a)(e,t.target.name,t.target.value),Object(l.a)(e,"filterOn",!0),e))},r.gotoTest=function(t){r.props.changeTest(t),r.setState({startTest:!0})},r.analyseTest=function(t){r.props.changeTest(t),r.setState({analyse:!0})},r.renderTestPapers=function(){var t=r.state.completedTestList.map((function(t){return t.test_name}));return r.state.testList.map((function(e){return Object(s.jsx)("tbody",{children:t.includes(e.test_name)?Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:e.test_name}),Object(s.jsx)("td",{children:e.level}),Object(s.jsx)("td",{children:e.exam}),Object(s.jsx)("td",{children:e.type}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{type:"button",class:"btn btn-outline-success",onClick:function(){return r.analyseTest(e)},children:"Analyse"})})]}):null})}))},r.renderFilter=function(){return Object(s.jsx)("form",{className:"listingform",onSubmit:r.testList(),children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"exam",children:"EXAM"}),Object(s.jsxs)("select",{className:"listingform__select",name:"exam",onChange:r.handleChange,value:r.state.exam,children:[Object(s.jsx)("option",{children:"none"}),r.renderExams()]})]}),Object(s.jsxs)("div",{className:"listingform__section",children:[Object(s.jsx)("label",{className:"listingform__label",htmlFor:"test_type",children:"TEST TYPE"}),Object(s.jsxs)("select",{className:"listingform__select",name:"test_type",onChange:r.handleChange,value:r.state.test_type,children:[Object(s.jsx)("option",{children:"none"}),Object(s.jsx)("option",{children:"weekly"}),Object(s.jsx)("option",{children:"mock"}),Object(s.jsx)("option",{children:"subject"}),Object(s.jsx)("option",{children:"topic"}),Object(s.jsx)("option",{children:"previous year paper"})]})]})]})})};var c=!1;return localStorage.getItem("token")&&(c=!0),r.state={exam:"",test_type:"",viewPublished:!0,examList:[],testList:[],completedTestList:[],startTest:!1,analyse:!1,loggedIn:c,filterOn:!0},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.examList(),this.testList(),this.completedTestList()}},{key:"render",value:function(){return!1===this.state.loggedIn?Object(s.jsx)(u.a,{to:"/logout"}):this.state.startTest?Object(s.jsx)("div",{children:Object(s.jsx)(u.a,{to:"/testpaper"})}):this.state.analyse?Object(s.jsx)("div",{children:Object(s.jsx)(u.a,{to:"/testanalysis"})}):Object(s.jsxs)("div",{children:[this.state.filterOn?this.sheetList():null,this.renderFilter(),Object(s.jsxs)("table",{class:"table table-hover",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"level"}),Object(s.jsx)("th",{scope:"col",children:"exam"}),Object(s.jsx)("th",{scope:"col",children:"type"}),Object(s.jsx)("th",{scope:"col",children:"action"})]})}),this.renderTestPapers()]})]})}}]),n}(r.Component),U=Object(m.b)((function(t){return{newuser:t.currentUser,userlevel:t.currentUserLevel}}),(function(t){return{changeTest:function(e){t(f(e))}}}))(P),D=n(61),W=function(t){var e=60*t.time_limit,n=new Date;n.setSeconds(n.getSeconds()+e);var r=Object(D.useTimer)({expiryTimestamp:n,onExpire:function(){return t.submitTest()}}),c=r.seconds,i=r.minutes,o=r.hours;return Object(s.jsxs)("h2",{className:"text-center mb-3 mt-3",children:["Timer: ",o,":",i,":",c]})},M=(n(117),function(t){Object(_.a)(n,t);var e=Object(b.a)(n);function n(t){var r;Object(h.a)(this,n),(r=e.call(this,t)).toggle=function(){return r.setState({isOpen:!r.state.isOpen})},r.List=function(){x.a.get("http://127.0.0.1:8000/testpaper/questions/?test_name=".concat(r.props.newtestpaper.test_name,"/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({questionList:t.data})})).then((function(){return r.startTest()})).catch((function(t){return console.log(t)}))},r.getUserAnswers=function(){x.a.get("http://127.0.0.1:8000/testpaper/useranswers/?user_name=".concat(r.props.newuser,"&test_name=").concat(r.props.newtestpaper.test_name),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({userAnswerList:t.data})})).catch((function(t){return console.log(t)}))},r.getUserFlags=function(){x.a.get("http://127.0.0.1:8000/testpaper/flag/?user_name=".concat(r.props.newuser,"&test_name=").concat(r.props.newtestpaper.test_name),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({userFlagList:t.data})})).catch((function(t){return console.log(t)}))},r.getTimeLeft=function(){x.a.get("http://127.0.0.1:8000/testpaper/timer/?user_name=".concat(r.props.newuser,"&test_name=").concat(r.props.newtestpaper.test_name),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({timeLimit:t.data})})).then((function(){return r.submitTimeLimit()})).then((function(){return r.previousTime()})).then((function(){return r.updateTimeLeft()})).catch((function(t){return console.log(t)}))},r.submitTimeLimit=function(){if(0===r.state.timeLimit.filter((function(t){return t.test_name===r.props.newtestpaper.test_name})).length){var t={user_name:r.props.newuser,test_name:r.props.newtestpaper.test_name,time_left:r.props.newtestpaper.time_limit_in_minutes};x.a.post("http://127.0.0.1:8000/testpaper/timer/",t,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getTimeLeft()}))}},r.previousTime=function(){var t=r.state.timeLimit.filter((function(t){return t.test_name===r.props.newtestpaper.test_name}));if(0!==t.length){var e=t.map((function(t){return t.time_left}));r.setState({previousTime:e,currentTimeLimit:e})}},r.updateTimeLeft=function(){var t=r.state.timeLimit[0].id,e=r.state.previousTime-1,n={user_name:r.props.newuser,test_name:r.props.newtestpaper.test_name,time_left:e};x.a.put("http://127.0.0.1:8000/testpaper/timer/".concat(t,"/"),n,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({previousTime:e})}))},r.submitAnswer=function(t){var e=r.state.userAnswerList.filter((function(t){return t.question_no===r.state.currentQuestion.question_no}));if(0===e.length&&t===r.state.currentQuestion.correct_answer){var n={user_name:r.props.newuser,test_name:r.state.currentQuestion.test_name,question_no:r.state.currentQuestion.question_no,user_answer:t,correct_answer:r.state.currentQuestion.correct_answer,marks:r.props.newtestpaper.positive_marks};x.a.post("http://127.0.0.1:8000/testpaper/useranswers/",n,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getUserAnswers()}))}else if(0===e.length&&t!==r.state.currentQuestion.correct_answer){var s={user_name:r.props.newuser,test_name:r.state.currentQuestion.test_name,question_no:r.state.currentQuestion.question_no,user_answer:t,correct_answer:r.state.currentQuestion.correct_answer,marks:r.props.newtestpaper.negative_marks};x.a.post("http://127.0.0.1:8000/testpaper/useranswers/",s,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getUserAnswers()}))}else if(t===e[0].user_answer){var c=e[0].id;x.a.delete("http://127.0.0.1:8000/testpaper/useranswers/".concat(c,"/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getUserAnswers()}))}else if(t===r.state.currentQuestion.correct_answer){var i=e[0].id,o={user_name:r.props.newuser,test_name:r.state.currentQuestion.test_name,question_no:r.state.currentQuestion.question_no,user_answer:t,correct_answer:r.state.currentQuestion.correct_answer,marks:r.props.newtestpaper.positive_marks};x.a.put("http://127.0.0.1:8000/testpaper/useranswers/".concat(i,"/"),o,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getUserAnswers()}))}else if(t!==r.state.currentQuestion.correct_answer){var a=e[0].id,u={user_name:r.props.newuser,test_name:r.state.currentQuestion.test_name,question_no:r.state.currentQuestion.question_no,user_answer:t,correct_answer:r.state.currentQuestion.correct_answer,marks:r.props.newtestpaper.negative_marks};x.a.put("http://127.0.0.1:8000/testpaper/useranswers/".concat(a,"/"),u,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getUserAnswers()}))}},r.submitFlag=function(){var t=r.state.userFlagList.filter((function(t){return t.question_no===r.state.currentQuestion.question_no}));if(0===t.length){var e={user_name:r.props.newuser,test_name:r.state.currentQuestion.test_name,question_no:r.state.currentQuestion.question_no};x.a.post("http://127.0.0.1:8000/testpaper/flag/",e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getUserFlags()}))}else{var n=t[0].id;x.a.delete("http://127.0.0.1:8000/testpaper/flag/".concat(n,"/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.getUserFlags()}))}},r.questionNumberList=function(){var t=r.state.userFlagList.map((function(t){return t.question_no})),e=r.state.userAnswerList.map((function(t){return t.question_no}));return r.state.questionList.map((function(n){return Object(s.jsx)("button",{className:t.includes(n.question_no)?e.includes(n.question_no)?"button1 selected-flag":"button1 notselected-flag":e.includes(n.question_no)?"button1 selected":"button1 notselected",onClick:function(){return r.selectQuestion(n)},children:n.question_no})}))},r.startTest=function(){return r.state.questionList.filter((function(t){return 1===t.question_no})).map((function(t){return r.setState({currentQuestion:t})}))},r.testName=function(){return r.state.questionList.filter((function(t){return 1===t.question_no})).map((function(t){return Object(s.jsx)("div",{children:t.test_name})}))},r.previous=function(t){var e=t-1;return r.state.questionList.filter((function(t){return t.question_no===e})).map((function(t){return Object(s.jsx)("button",{onClick:function(){return r.selectQuestion(t)},children:"previous"})}))},r.next=function(t){var e=t+1;return r.state.questionList.filter((function(t){return t.question_no===e})).map((function(t){return Object(s.jsx)("button",{onClick:function(){return r.selectQuestion(t)},children:"next"})}))},r.selectQuestion=function(t){r.setState({isOpen:!1,currentQuestion:t})},r.submitTestPaper=function(){var t=r.state.userAnswerList.filter((function(t){return t.user_name===r.props.newuser&&t.test_name===r.state.currentQuestion.test_name})).map((function(t){return t.marks})).reduce((function(t,e){return t+e})),e={user_name:r.props.newuser,test_name:r.state.currentQuestion.test_name,score:t,submitted:!0};x.a.post("http://127.0.0.1:8000/testpaper/userresult/",e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({submitTest:!0})})).catch((function(t){return console.log(t)}))},r.class_name=function(t){var e=r.state.userAnswerList.filter((function(t){return t.question_no===r.state.currentQuestion.question_no}));return 0===e.length?"list-group-item list-group-item-action notselectedOption":t===e[0].user_answer?"list-group-item list-group-item-action selectedOption":"list-group-item list-group-item-action notselectedOption"};var c=!1;return localStorage.getItem("token")&&(c=!0),r.state={loggedIn:c,questionList:[],currentQuestion:"",submitTest:!1,userAnswerList:[],userFlagList:[],timeLimit:[],answeredId:"",previousTime:"",currentTimeLimit:""},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.List(),this.getUserAnswers(),this.getUserFlags(),this.getTimeLeft(),setInterval((function(){t.updateTimeLeft()}),6e4)}},{key:"render",value:function(){var t=this;return!1===this.state.loggedIn?Object(s.jsx)(u.a,{to:"/logout"}):!0===this.state.submitTest?Object(s.jsx)(u.a,{to:"/home"}):Object(s.jsxs)("div",{className:"topicsheet",children:[""!==this.state.currentTimeLimit?Object(s.jsx)(W,{time_limit:this.state.currentTimeLimit,submitTest:function(){return t.submitTestPaper()}}):null,Object(s.jsx)("div",{children:this.testName()}),Object(s.jsx)("div",{children:this.questionNumberList()}),Object(s.jsxs)("div",{class:"input-group input-group-lg",children:[Object(s.jsx)("div",{class:"input-group-prepend",children:Object(s.jsxs)("span",{class:"input-group-text",id:"inputGroup-sizing-lg",children:["Question. ",this.state.currentQuestion.question_no]})}),Object(s.jsxs)("span",{type:"text",class:"form-control","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",children:[this.state.currentQuestion.question,Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:this.state.currentQuestion.question_image,alt:""})})]})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{class:"list-group",children:[Object(s.jsxs)("button",{type:"button",className:this.class_name("a"),onClick:function(){return t.submitAnswer("a")},children:["(A) ",this.state.currentQuestion.option_a]}),Object(s.jsxs)("button",{type:"button",className:this.class_name("b"),onClick:function(){return t.submitAnswer("b")},children:["(B) ",this.state.currentQuestion.option_b]}),Object(s.jsxs)("button",{type:"button",className:this.class_name("c"),onClick:function(){return t.submitAnswer("c")},children:["(C) ",this.state.currentQuestion.option_c]}),Object(s.jsxs)("button",{type:"button",className:this.class_name("d"),onClick:function(){return t.submitAnswer("d")},children:["(D) ",this.state.currentQuestion.option_d]})]}),Object(s.jsx)("button",{onClick:function(){return t.submitFlag()},children:"Flag"}),Object(s.jsx)("div",{children:this.previous(this.state.currentQuestion.question_no)}),Object(s.jsx)("div",{children:this.next(this.state.currentQuestion.question_no)})]}),Object(s.jsx)("button",{onClick:function(){return t.submitTestPaper()},children:"Submit"}),this.props.newtestpaper.allow_calc?Object(s.jsx)("button",{onClick:function(){return t.setState({isCalcOpen:!t.state.isCalcOpen})},children:"Calculator"}):null,this.state.isCalcOpen?Object(s.jsx)(y.a,{}):null]})}}]),n}(c.a.Component)),J=Object(m.b)((function(t){return{newuser:t.currentUser,newtestpaper:t.testpaper}}))(M),R=function(t){Object(_.a)(n,t);var e=Object(b.a)(n);function n(t){var r;Object(h.a)(this,n),(r=e.call(this,t)).solutionVideoToggle=function(){return r.setState({isSolutionVideoOpen:!r.state.isSolutionVideoOpen})},r.Result=function(){x.a.get("http://127.0.0.1:8000/testpaper/userresult/?user_name=".concat(r.props.newuser,"&test_name=").concat(r.props.newtestpaper.test_name),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({resultList:t.data})})).catch((function(t){return console.log(t)}))},r.renderResult=function(){return r.state.resultList.map((function(t){return Object(s.jsxs)("div",{children:["score = ",t.score]})}))},r.List=function(){x.a.get("http://127.0.0.1:8000/testpaper/questions/?test_name=".concat(r.props.newtestpaper.test_name,"/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({questionList:t.data})})).then((function(){return r.startTest()})).catch((function(t){return console.log(t)}))},r.getUserAnswers=function(){x.a.get("http://127.0.0.1:8000/testpaper/useranswers/?user_name=".concat(r.props.newuser,"&test_name=").concat(r.props.newtestpaper.test_name),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){return r.setState({userAnswerList:t.data})})).catch((function(t){return console.log(t)}))},r.questionNumberList=function(){var t=r.state.userAnswerList.filter((function(t){return t.user_answer===t.correct_answer})),e=r.state.userAnswerList.filter((function(t){return t.user_answer!==t.correct_answer})),n=t.map((function(t){return t.question_no})),c=e.map((function(t){return t.question_no}));return r.state.questionList.map((function(t){return Object(s.jsx)("button",{className:n.includes(t.question_no)?"button-s correct_question":c.includes(t.question_no)?"button-s incorrect_question":"button-s normal_question",onClick:function(){return r.selectQuestion(t)},children:t.question_no})}))},r.startTest=function(){return r.state.questionList.filter((function(t){return 1===t.question_no})).map((function(t){return r.setState({currentQuestion:t})}))},r.testName=function(){return r.state.questionList.filter((function(t){return 1===t.question_no})).map((function(t){return Object(s.jsx)("div",{children:t.test_name})}))},r.previous=function(t){var e=t-1;return r.state.questionList.filter((function(t){return t.question_no===e})).map((function(t){return Object(s.jsx)("button",{onClick:function(){return r.selectQuestion(t)},children:"previous"})}))},r.next=function(t){var e=t+1;return r.state.questionList.filter((function(t){return t.question_no===e})).map((function(t){return Object(s.jsx)("button",{onClick:function(){return r.selectQuestion(t)},children:"next"})}))},r.selectQuestion=function(t){r.setState({isSolutionVideoOpen:!1,currentQuestion:t})},r.class_name=function(t){var e=r.state.userAnswerList.filter((function(t){return t.question_no===r.state.currentQuestion.question_no}));return 0===e.length?"list-group-item list-group-item-action normal_option":t===e[0].correct_answer?"list-group-item list-group-item-action correct_option":t===e[0].user_answer?"list-group-item list-group-item-action incorrect_option":"list-group-item list-group-item-action normal_option"},r.correctIncorrectAnswersCount=function(){var t=r.state.userAnswerList.filter((function(t){return t.user_answer===t.correct_answer})),e=r.state.userAnswerList.filter((function(t){return t.user_answer!==t.correct_answer}));return Object(s.jsxs)("div",{children:["corret answers = ",t.length,"incorret answers = ",e.length]})};var c=!1;return localStorage.getItem("token")&&(c=!0),r.state={loggedIn:c,questionList:[],resultList:[],currentQuestion:"",isSolutionVideoOpen:!1,submitTest:!1,userAnswerList:[],answeredId:""},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.List(),this.getUserAnswers(),this.Result()}},{key:"render",value:function(){var t=this;return!1===this.state.loggedIn?Object(s.jsx)(u.a,{to:"/logout"}):!0===this.state.submitTest?Object(s.jsx)(u.a,{to:"/home"}):Object(s.jsxs)("div",{className:"topicsheet",children:[Object(s.jsx)("div",{children:this.testName()}),Object(s.jsx)("div",{children:this.renderResult()}),Object(s.jsx)("div",{children:this.correctIncorrectAnswersCount()}),Object(s.jsx)("div",{children:this.questionNumberList()}),Object(s.jsxs)("div",{class:"input-group input-group-lg",children:[Object(s.jsx)("div",{class:"input-group-prepend",children:Object(s.jsxs)("span",{class:"input-group-text",id:"inputGroup-sizing-lg",children:["Question. ",this.state.currentQuestion.question_no]})}),Object(s.jsxs)("span",{type:"text",class:"form-control","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",children:[this.state.currentQuestion.question,Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:this.state.currentQuestion.question_image,alt:""})})]})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{class:"list-group",children:[Object(s.jsxs)("button",{type:"button",className:this.class_name("a"),children:["(A) ",this.state.currentQuestion.option_a]}),Object(s.jsxs)("button",{type:"button",className:this.class_name("b"),children:["(B) ",this.state.currentQuestion.option_b]}),Object(s.jsxs)("button",{type:"button",className:this.class_name("c"),children:["(C) ",this.state.currentQuestion.option_c]}),Object(s.jsxs)("button",{type:"button",className:this.class_name("d"),children:["(D) ",this.state.currentQuestion.option_d]})]}),Object(s.jsxs)("div",{className:"solution",children:[Object(s.jsx)("label",{htmlFor:"solution",children:"solution"}),Object(s.jsx)("div",{children:this.state.currentQuestion.solution}),Object(s.jsx)("img",{src:this.state.currentQuestion.solution_image,alt:""})]}),Object(s.jsxs)("div",{className:"solution_video",children:[Object(s.jsx)("button",{onClick:function(){return t.solutionVideoToggle()},children:"solution video"}),Object(s.jsx)(L.a,{isOpen:this.state.isSolutionVideoOpen,children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)(T.a,{controls:!0,url:'"'.concat(this.state.currentQuestion.solution_video,'"')})})})]}),Object(s.jsx)("div",{children:this.previous(this.state.currentQuestion.question_no)}),Object(s.jsx)("div",{children:this.next(this.state.currentQuestion.question_no)})]})]})}}]),n}(c.a.Component),z=Object(m.b)((function(t){return{newuser:t.currentUser,newtestpaper:t.testpaper}}))(R),F=function(t){Object(_.a)(n,t);var e=Object(b.a)(n);function n(){var t;return Object(h.a)(this,n),t=e.call(this),localStorage.removeItem("token"),t}return Object(p.a)(n,[{key:"render",value:function(){return Object(s.jsx)(u.a,{to:"/"})}}]),n}(c.a.Component),B=n(63),K=n(131),V=n(132),G=n(133),H=n(134),Y=n(135),X=function(t){var e=Object(r.useState)(!1),n=Object(B.a)(e,2),c=n[0],i=n[1],o=function(){return i(!c)};return Object(s.jsx)("div",{children:Object(s.jsxs)(K.a,{className:"navbar",light:!0,expand:"md",children:[Object(s.jsx)(V.a,{href:"/",children:"Eklavya"}),Object(s.jsx)(G.a,{onClick:o}),Object(s.jsx)(L.a,{isOpen:c,navbar:!0,children:Object(s.jsxs)(H.a,{className:"mr-auto",navbar:!0,children:[Object(s.jsx)(Y.a,{children:Object(s.jsx)(a.b,{to:"/topicfilter",className:"nav-link",activeClassName:"nav-link--active",onClick:o,children:"Topic Sheets"})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(a.b,{to:"/completedsheets",className:"nav-link",activeClassName:"nav-link--active",onClick:o,children:"Completed Sheets"})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(a.b,{to:"/testfilter",className:"nav-link",activeClassName:"nav-link--active",onClick:o,children:"Test Papers"})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(a.b,{to:"/completedtestpapers",className:"nav-link",activeClassName:"nav-link--active",onClick:o,children:"Completed Tests"})}),Object(s.jsx)(Y.a,{children:Object(s.jsx)(a.b,{to:"/logout",className:"nav-link",activeClassName:"nav-link--active",onClick:o,children:"Logout"})})]})})]})})};n(118);var $=function(){return Object(s.jsxs)(a.a,{children:[Object(s.jsx)(X,{}),Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(u.d,{children:[Object(s.jsx)(u.b,{exact:!0,path:"/",component:d}),Object(s.jsx)(u.b,{path:"/home",component:C}),Object(s.jsx)(u.b,{path:"/logout",component:F}),Object(s.jsx)(u.b,{path:"/topicfilter",component:w}),Object(s.jsx)(u.b,{path:"/completedsheets",component:Q}),Object(s.jsx)(u.b,{path:"/topicsheet",component:E}),Object(s.jsx)(u.b,{path:"/testfilter",component:q}),Object(s.jsx)(u.b,{path:"/completedtestpapers",component:U}),Object(s.jsx)(u.b,{path:"/testpaper",component:J}),Object(s.jsx)(u.b,{path:"/testanalysis",component:z})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=n(29),tt=n(22),et={sheet:"",testpaper:"",currentUser:"",currentUserLevel:""},nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE_SHEET":return Object(tt.a)(Object(tt.a)({},t),{},{sheet:e.payload});case"CHANGE_TEST_PAPER":return Object(tt.a)(Object(tt.a)({},t),{},{testpaper:e.payload});case"CHANGE_USERNAME":return Object(tt.a)(Object(tt.a)({},t),{},{currentUser:e.payload});case"CHANGE_USER_LEVEL":return Object(tt.a)(Object(tt.a)({},t),{},{currentUserLevel:e.payload});default:return t}},st=n(62),rt=n.n(st),ct=(n(128),function(){try{var t=localStorage.getItem("state");if(null===t)return;return JSON.parse(t)}catch(e){return}}()),it=Object(Z.b)(nt,ct);it.subscribe(rt()((function(){!function(t){try{var e=JSON.stringify(t);localStorage.setItem("state",e)}catch(n){}}(it.getState())}),1e3)),o.a.render(Object(s.jsx)(m.a,{store:it,children:Object(s.jsx)(a.a,{children:Object(s.jsx)($,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},30:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_nitesh_Gaurav_deployreact_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_Users_nitesh_Gaurav_deployreact_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_Users_nitesh_Gaurav_deployreact_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_Users_nitesh_Gaurav_deployreact_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_Calculator_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(109),_Calculator_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_Calculator_css__WEBPACK_IMPORTED_MODULE_6__),_calc_components_ResultComponent__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(59),_calc_components_KeyPadComponent__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(60),Calculator=function(_Component){Object(_Users_nitesh_Gaurav_deployreact_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(Calculator,_Component);var _super=Object(_Users_nitesh_Gaurav_deployreact_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(Calculator);function Calculator(){var _this;return Object(_Users_nitesh_Gaurav_deployreact_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Calculator),_this=_super.call(this),_this.onClick=function(t){"="===t?_this.calculate():"C"===t?_this.reset():"CE"===t?_this.backspace():_this.setState({result:_this.state.result+t})},_this.calculate=function(){var checkResult="";checkResult=_this.state.result.includes("--")?_this.state.result.replace("--","+"):_this.state.result;try{_this.setState({result:(eval(checkResult)||"")+""})}catch(e){_this.setState({result:"error"})}},_this.reset=function(){_this.setState({result:""})},_this.backspace=function(){_this.setState({result:_this.state.result.slice(0,-1)})},_this.state={result:""},_this}return Object(_Users_nitesh_Gaurav_deployreact_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Calculator,[{key:"render",value:function(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"calculator-body",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h1",{children:"Simple Calculator"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_calc_components_ResultComponent__WEBPACK_IMPORTED_MODULE_7__.a,{result:this.state.result}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_calc_components_KeyPadComponent__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:this.onClick})]})})}}]),Calculator}(react__WEBPACK_IMPORTED_MODULE_5__.Component);__webpack_exports__.a=Calculator},48:function(t,e,n){},59:function(t,e,n){"use strict";var s=n(6),r=n(7),c=n(9),i=n(8),o=n(0),a=n(1),u=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var t=this.props.result;return Object(o.jsx)("div",{className:"result",children:Object(o.jsx)("p",{children:t})})}}]),n}(a.Component);e.a=u},60:function(t,e,n){"use strict";var s=n(6),r=n(7),c=n(9),i=n(8),o=n(0),a=n(1),u=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var t=this;return Object(o.jsxs)("div",{className:"button",children:[Object(o.jsx)("button",{name:"(",onClick:function(e){return t.props.onClick(e.target.name)},children:"("}),Object(o.jsx)("button",{name:"CE",onClick:function(e){return t.props.onClick(e.target.name)},children:"CE"}),Object(o.jsx)("button",{name:")",onClick:function(e){return t.props.onClick(e.target.name)},children:")"}),Object(o.jsx)("button",{name:"C",onClick:function(e){return t.props.onClick(e.target.name)},children:"C"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{name:"1",onClick:function(e){return t.props.onClick(e.target.name)},children:"1"}),Object(o.jsx)("button",{name:"2",onClick:function(e){return t.props.onClick(e.target.name)},children:"2"}),Object(o.jsx)("button",{name:"3",onClick:function(e){return t.props.onClick(e.target.name)},children:"3"}),Object(o.jsx)("button",{name:"+",onClick:function(e){return t.props.onClick(e.target.name)},children:"+"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{name:"4",onClick:function(e){return t.props.onClick(e.target.name)},children:"4"}),Object(o.jsx)("button",{name:"5",onClick:function(e){return t.props.onClick(e.target.name)},children:"5"}),Object(o.jsx)("button",{name:"6",onClick:function(e){return t.props.onClick(e.target.name)},children:"6"}),Object(o.jsx)("button",{name:"-",onClick:function(e){return t.props.onClick(e.target.name)},children:"-"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{name:"7",onClick:function(e){return t.props.onClick(e.target.name)},children:"7"}),Object(o.jsx)("button",{name:"8",onClick:function(e){return t.props.onClick(e.target.name)},children:"8"}),Object(o.jsx)("button",{name:"9",onClick:function(e){return t.props.onClick(e.target.name)},children:"9"}),Object(o.jsx)("button",{name:"*",onClick:function(e){return t.props.onClick(e.target.name)},children:"x"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{name:".",onClick:function(e){return t.props.onClick(e.target.name)},children:"."}),Object(o.jsx)("button",{name:"0",onClick:function(e){return t.props.onClick(e.target.name)},children:"0"}),Object(o.jsx)("button",{name:"=",onClick:function(e){return t.props.onClick(e.target.name)},children:"="}),Object(o.jsx)("button",{name:"/",onClick:function(e){return t.props.onClick(e.target.name)},children:"\xf7"}),Object(o.jsx)("br",{})]})}}]),n}(a.Component);e.a=u},69:function(t,e,n){}},[[129,1,2]]]);
//# sourceMappingURL=main.0606a749.chunk.js.map